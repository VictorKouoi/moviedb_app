{"ast":null,"code":"import axios from 'axios';\nimport actions from './actions';\nconst apiKey = 'ac5f233e9b1ffda899bc1603606b1142';\nconst choosenLanguage = 'fr-FR';\nexport const getPopularMovies = (page = 1) => {\n  return dispatch => {\n    dispatch(actions.getMoviesAttempt());\n    return axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(apiKey, \"&language=\").concat(choosenLanguage, \"&page=\").concat(page)).then(response => {\n      const data = response.data;\n      dispatch(actions.getMoviesSuccess(data));\n      return response;\n    }).catch(error => {\n      dispatch(actions.getMoviesFail(error.response.data.status_message));\n      throw error;\n    });\n  };\n};\nexport const getSimilarMovies = movieId => {\n  return dispatch => {\n    dispatch(actions.getSimilarMoviesAttempt());\n    return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movieId, \"/similar?api_key=\").concat(apiKey, \"&language=\").concat(choosenLanguage, \"&page=1\")).then(response => {\n      const data = response.data;\n      dispatch(actions.getSimilarMoviesSuccess(data));\n      return response;\n    }).catch(error => {\n      console.log(error); // dispatch(actions.getSimilarMoviesFail(error.response.data.status_message));\n\n      throw error;\n    });\n  };\n};\nexport const getSelectedMovie = movieId => {\n  return dispatch => {\n    dispatch(actions.getSelectedMovieAttempt());\n    return axios.get(\"https://api.themoviedb.org/3/movie/\".concat(movieId, \"?api_key=\").concat(apiKey, \"&language=\").concat(choosenLanguage)).then(response => {\n      const data = response.data;\n      dispatch(actions.getSelectedMovieSuccess(data));\n      return response;\n    }).catch(error => {\n      dispatch(actions.getSelectedMovieFail(error.response.data.status_message));\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/macbookpro/Desktop/Personnel/my-movie-app/src/redux/index.js"],"names":["axios","actions","apiKey","choosenLanguage","getPopularMovies","page","dispatch","getMoviesAttempt","get","then","response","data","getMoviesSuccess","catch","error","getMoviesFail","status_message","getSimilarMovies","movieId","getSimilarMoviesAttempt","getSimilarMoviesSuccess","console","log","getSelectedMovie","getSelectedMovieAttempt","getSelectedMovieSuccess","getSelectedMovieFail"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,MAAM,GAAG,kCAAf;AACA,MAAMC,eAAe,GAAG,OAAxB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,IAAI,GAAG,CAAR,KAAc;AAC5C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACL,OAAO,CAACM,gBAAR,EAAD,CAAR;AACA,WAAOP,KAAK,CAACQ,GAAN,8DAAgEN,MAAhE,uBAAmFC,eAAnF,mBAA2GE,IAA3G,GACNI,IADM,CACAC,QAAD,IAAa;AAAA,YACTC,IADS,GACAD,QADA,CACTC,IADS;AAEjBL,MAAAA,QAAQ,CAACL,OAAO,CAACW,gBAAR,CAAyBD,IAAzB,CAAD,CAAR;AACA,aAAOD,QAAP;AACD,KALM,EAMNG,KANM,CAMCC,KAAD,IAAW;AAChBR,MAAAA,QAAQ,CAACL,OAAO,CAACc,aAAR,CAAsBD,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBK,cAA1C,CAAD,CAAR;AACA,YAAMF,KAAN;AACD,KATM,CAAP;AAUD,GAZD;AAaD,CAdM;AAgBP,OAAO,MAAMG,gBAAgB,GAAIC,OAAD,IAAa;AAC3C,SAAQZ,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACL,OAAO,CAACkB,uBAAR,EAAD,CAAR;AACA,WAAOnB,KAAK,CAACQ,GAAN,8CAAgDU,OAAhD,8BAA2EhB,MAA3E,uBAA8FC,eAA9F,cACNM,IADM,CACAC,QAAD,IAAa;AAAA,YACTC,IADS,GACAD,QADA,CACTC,IADS;AAEjBL,MAAAA,QAAQ,CAACL,OAAO,CAACmB,uBAAR,CAAgCT,IAAhC,CAAD,CAAR;AACA,aAAOD,QAAP;AACD,KALM,EAMNG,KANM,CAMCC,KAAD,IAAW;AAChBO,MAAAA,OAAO,CAACC,GAAR,CAAYR,KAAZ,EADgB,CAEhB;;AACA,YAAMA,KAAN;AACD,KAVM,CAAP;AAWD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAMS,gBAAgB,GAAIL,OAAD,IAAa;AAC3C,SAAQZ,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACL,OAAO,CAACuB,uBAAR,EAAD,CAAR;AACA,WAAOxB,KAAK,CAACQ,GAAN,8CAAgDU,OAAhD,sBAAmEhB,MAAnE,uBAAsFC,eAAtF,GACNM,IADM,CACAC,QAAD,IAAa;AAAA,YACTC,IADS,GACAD,QADA,CACTC,IADS;AAEjBL,MAAAA,QAAQ,CAACL,OAAO,CAACwB,uBAAR,CAAgCd,IAAhC,CAAD,CAAR;AACA,aAAOD,QAAP;AACD,KALM,EAMNG,KANM,CAMCC,KAAD,IAAW;AAChBR,MAAAA,QAAQ,CAACL,OAAO,CAACyB,oBAAR,CAA6BZ,KAAK,CAACJ,QAAN,CAAeC,IAAf,CAAoBK,cAAjD,CAAD,CAAR;AACA,YAAMF,KAAN;AACD,KATM,CAAP;AAUD,GAZD;AAaD,CAdM","sourcesContent":["import axios from 'axios';\nimport actions from './actions';\n\nconst apiKey = 'ac5f233e9b1ffda899bc1603606b1142';\nconst choosenLanguage = 'fr-FR';\n\nexport const getPopularMovies = (page = 1) => {\n  return (dispatch) => {\n    dispatch(actions.getMoviesAttempt());\n    return axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=${choosenLanguage}&page=${page}`)\n    .then((response) =>{\n      const { data } = response;\n      dispatch(actions.getMoviesSuccess(data));\n      return response;\n    })\n    .catch((error) => {\n      dispatch(actions.getMoviesFail(error.response.data.status_message));\n      throw error;\n    })\n  } \n};\n\nexport const getSimilarMovies = (movieId) => {\n  return (dispatch) => {\n    dispatch(actions.getSimilarMoviesAttempt());\n    return axios.get(`https://api.themoviedb.org/3/movie/${movieId}/similar?api_key=${apiKey}&language=${choosenLanguage}&page=1`)\n    .then((response) =>{\n      const { data } = response;\n      dispatch(actions.getSimilarMoviesSuccess(data));\n      return response;\n    })\n    .catch((error) => {\n      console.log(error);\n      // dispatch(actions.getSimilarMoviesFail(error.response.data.status_message));\n      throw error;\n    })\n  } \n};\n\nexport const getSelectedMovie = (movieId) => {\n  return (dispatch) => {\n    dispatch(actions.getSelectedMovieAttempt());\n    return axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}&language=${choosenLanguage}`)\n    .then((response) =>{\n      const { data } = response;\n      dispatch(actions.getSelectedMovieSuccess(data));\n      return response;\n    })\n    .catch((error) => {\n      dispatch(actions.getSelectedMovieFail(error.response.data.status_message));\n      throw error;\n    })\n  } \n};\n"]},"metadata":{},"sourceType":"module"}