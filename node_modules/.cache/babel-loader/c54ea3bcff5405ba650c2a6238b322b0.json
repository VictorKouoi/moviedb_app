{"ast":null,"code":"import axios from 'axios';\nimport actions from './actions';\nconst apiKey = 'ac5f233e9b1ffda899bc1603606b1142';\nconst choosenLanguage = 'fr-FR'; // https://developers.themoviedb.org/3/movies/get-similar-movies \n// requête pour get des films similaires à celui sélectionné\n// https://api.themoviedb.org/3/movie/popular?api_key=ac5f233e9b1ffda899bc1603606b1142&language=en-US&page=1\n\nexport const getPopularMovies = () => {\n  return dispatch => {\n    dispatch(actions.getMoviesAttempt());\n    return axios.get(\"https://api.themoviedb.org/3/movie/popular?api_key=\".concat(apiKey, \"&language=\").concat(choosenLanguage, \"&page=1\")).then(response => {\n      console.log({\n        response\n      });\n      const data = response.data;\n      console.log({\n        data\n      });\n      dispatch(actions.getMoviesSuccess(data));\n      return response;\n    }).catch(error => {\n      dispatch(actions.getMoviesFail(error));\n      throw error;\n    });\n  };\n};","map":{"version":3,"sources":["/Users/macbookpro/Desktop/Personnel/my-movie-app/src/redux/index.js"],"names":["axios","actions","apiKey","choosenLanguage","getPopularMovies","dispatch","getMoviesAttempt","get","then","response","console","log","data","getMoviesSuccess","catch","error","getMoviesFail"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,MAAM,GAAG,kCAAf;AACA,MAAMC,eAAe,GAAG,OAAxB,C,CAEA;AACA;AAEA;;AAEA,OAAO,MAAMC,gBAAgB,GAAG,MAAM;AACpC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACJ,OAAO,CAACK,gBAAR,EAAD,CAAR;AACA,WAAON,KAAK,CAACO,GAAN,8DAAgEL,MAAhE,uBAAmFC,eAAnF,cACNK,IADM,CACAC,QAAD,IAAa;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACF,QAAAA;AAAD,OAAZ;AADiB,YAETG,IAFS,GAEAH,QAFA,CAETG,IAFS;AAGjBF,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACC,QAAAA;AAAD,OAAZ;AACAP,MAAAA,QAAQ,CAACJ,OAAO,CAACY,gBAAR,CAAyBD,IAAzB,CAAD,CAAR;AACA,aAAOH,QAAP;AACD,KAPM,EAQNK,KARM,CAQCC,KAAD,IAAW;AAChBV,MAAAA,QAAQ,CAACJ,OAAO,CAACe,aAAR,CAAsBD,KAAtB,CAAD,CAAR;AACA,YAAMA,KAAN;AACD,KAXM,CAAP;AAYD,GAdD;AAeD,CAhBM","sourcesContent":["import axios from 'axios';\nimport actions from './actions';\n\nconst apiKey = 'ac5f233e9b1ffda899bc1603606b1142';\nconst choosenLanguage = 'fr-FR';\n\n// https://developers.themoviedb.org/3/movies/get-similar-movies \n// requête pour get des films similaires à celui sélectionné\n\n// https://api.themoviedb.org/3/movie/popular?api_key=ac5f233e9b1ffda899bc1603606b1142&language=en-US&page=1\n\nexport const getPopularMovies = () => {\n  return (dispatch) => {\n    dispatch(actions.getMoviesAttempt());\n    return axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${apiKey}&language=${choosenLanguage}&page=1`)\n    .then((response) =>{\n      console.log({response});\n      const { data } = response;\n      console.log({data});\n      dispatch(actions.getMoviesSuccess(data));\n      return response;\n    })\n    .catch((error) => {\n      dispatch(actions.getMoviesFail(error));\n      throw error;\n    })\n  } \n}"]},"metadata":{},"sourceType":"module"}